# OpenAPI generated server

## Overview
This server was generated by the [OpenAPI Generator](https://openapi-generator.tech) project. By using the
[OpenAPI-Spec](https://openapis.org) from a remote server, you can easily generate a server stub.  This
is an example of building a OpenAPI-enabled Flask server.

This example uses the [Connexion](https://github.com/zalando/connexion) library on top of Flask.

## Requirements
Python 3.5.2+

## Usage
To run the server, please execute the following from the root directory:

```
pip3 install -r requirements.txt
python3 -m ulmapi
```

and open your browser to here:

```
http://localhost:8080/api/v1/ui/
```

Your OpenAPI definition lives here:

```
http://localhost:8080/api/v1/openapi.json
```

To launch the integration tests, use tox:
```
sudo pip install tox
tox
```

## Running with Docker

To run the server on a Docker container, please execute the following from the root directory:

```bash
# building the image
docker build -t ulmapi .

# starting up a container
docker run -p 8080:8080 ulmapi
```

## Development
When you add a new endpoint or modify an existing one:
- Make the changes in `<REPOSITORY>/openapi.yaml`
- Run `<REPOSITORY>/tools/generate-openapi-server.sh`
    - Request/response objects will be generated in
      `<REPOSITORY>/server/ulmapi/dto`
    - Controller interfaces (dummy functions) will be generated in
      `<REPOSITORY>/server/ulmapi/controllers/api`
- Copy any new/modified controller function from `<REPOSITORY>/server/ulmapi/controllers/api`
  into `<REPOSITORY>/server/ulmapi/controllers/impl` and fill in the application
  logic. See existing endpoints for examples - very little Flask knowledge is
  required, you're just writing Python :)
  
  
  
## Setup mongoDB
The pymongo connector is already included in requirements.txt.